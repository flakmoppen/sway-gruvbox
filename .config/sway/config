# Read `man 5 sway` for a complete reference.

# To reload any running process executed by sway, use: killall <process name>,
# set 'exec' to 'exec_always' below, and reload sway.
# To avoid having multiple sessions of the same process running in the background,
# don't forget to reset to 'exec' after testing is done.

# Run
exec {
    #--no-startup-id systemctl --user import-environment SWAYSOCK
    #--no-startup-id dbus-update-activation-environment --systemd SWAYSOCK

    # Set brightness on start
    $HOME/.config/sway/backlight/value.start.sh

    # Idle configuration
    swayidle -w \
        timeout 30 "brillo -G > $HOME/.config/sway/backlight/value && brillo -u 1000000 -q -S 15" \
	    resume "brillo -S $(cat $HOME/.config/sway/backlight/value)" \
        timeout 120 "swaymsg 'output * dpms off'" \
	    resume "swaymsg 'output * dpms on'"
}


# Variables
set {
    # Use Alt as modifier.
    $mod Mod1

    # Directional keys
    $left   j
    $down   k
    $up     i
    $right  l

    # Apps
    $menu       wofi --show
    $term       alacritty
    $browser    floorp
    $editor     placeholder

    # Displays
    $laptop     eDP-1
    $hdmi       #placeholder#
}


# Periferals
input "1:1:AT_Translated_Set_2_keyboard" {
	xkb_layout "se"
	xkb_numlock enabled
}


# Wallpaper
output {
    $laptop     bg /home/eddo/Documents/Wallpapers/lotus-wallpaper.png fill
    $laptop     scale 1.0
    $laptop     pos 0 0 res 1366x768@60Hz
#    $hdmi       bg /home/eddo/Documents/Wallpapers/lotus-wallpaper.png fill
#    $hdmi       scale 1.5
#    $hdmi       pos 
}


# Key to use to manipulate floating windows.
# Change 'normal' to 'inverse' to switch right and left mouse button.
floating_modifier $mod normal

# Including bindings and window management:
include {
    ~/.config/sway/config.d/*
}

# Status Bar:
bar {
	swaybar_command waybar
}
